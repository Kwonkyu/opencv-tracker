# opencv-tracker
Implementation of OpenCV's built-in trackers and usage. [SlideShare(KOR)](https://www.slideshare.net/KwonkyuPark/opencvs-builtin-trackers)

There are 8 trackers in OpenCV.
- BOOSTING
- MIL
- MOSSE
- CSRT
- TLD
- MEDIANFLOW
- KCF
- GOTURN

In these projects, we'll use these trackers in **python** with opencv-contrib-python.

## benchmark.py
**Required packages**
 - [X] opencv-contrib-python
 - [X] bbox
 - [X] matplotlib 

Benchmarking OpenCV's built-in trackers based on ground-truth. Benchmark ground-truths and
images from [HanYang University](http://cvlab.hanyang.ac.kr/tracker_benchmark/datasets.html)

Tracking results will be drawn on window in realtime. After video ends, accuracy of each tracker's
tracking result and ground-truth will be shown in line graph using matplotlib.

### usage

`benchmark.py [-h] -v VIDEO -g GROUND_TRUTH -t [TRACKER [TRACKER ...]] [--no-status] [--split] [--output]
[--benchmark-output]`

**Mandatory Options**
- -v, --video: Benchmark video file location. Usually it can be generated by images from datasets(check video-generator.py).
  - If you can read and figure out what's going on from benchmark.py, you may want to modify this option
  and logics to use images directly from dataset. In this case, you won't need to generate video from images.
- -g, --ground-truth: Ground-truth data of corresponding video's each frame. It's included in text file.
- -t, --tracker: Trackers to be benchmarked. Multiple trackers can be passed with their names.

**Optional**
- -h, --help: Show usage and arguments information.
- no-status: Don't show status strings in left above corner of view. Useful when video is small. 
- split: Draw ground-truth's bounding box and tracker result's bounding box in discrete window.
- output: Export benchmarking result to video file.
- benchmark-output: Write each tracker's benchmarking result to text file. 

![result](./result-benchmark-1.png)
![result with graph](./result-benchmark-2.png)

## MultiTracker.py

**Required packages**
 - [X] opencv-contrib-python

Track multiple objects from single tracker, or track single object from multiple trackers.
Tracking results will be drawn on window in realtime.

### usage

`MultiTracker.py [-h] [-v VIDEO] -t [TRACKER [TRACKER ...]] [--output]`

**Mandatory Options**
- -v, --video: The location of video file to use. 
- -t, --tracker: Trackers to be used. Multiple trackers can be passed with their names.
  - If you pass multiple trackers then it'll track single object(single-object, multiple-tracker mode).
  - If you pass single tracker then it'll track multiple objects(multiple-object, single-tracker mode).

**Optional**
- -h, --help: Show usage and arguments information.
- --output: Export tracking result to video file.

By using OpenCV's selectROI() function, you can set region-of-interest where your object-to-be-tracked
is located. After that, you'll pass the region-of-interest(s) to tracker(s) to start object tracking.

When script starts, you need to press **'s'** to set region-of-interest. If you set region-of-interest
properly, press **'space'** to determine and give this 'object' to tracker(s).
- In single-object, multiple-tracker mode trackers will immediately start tracking that object.
- In multiple-object, single-tracker mode then you can select another object to track or press 'esc' to
stop selecting objects and start tracking with single object.
  - Of course if you select multiple objects, there'll be multiple trackers in memory. But each
  tracker tracks each object and they're all same kind of trackers.
  
![result-multiple-trackers](./result-multitracker-1.png)
![result-multiple-objects](./result-multitracker-2.png)

## detect_and_track.py
information here.